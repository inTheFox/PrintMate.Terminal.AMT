<UserControl x:Class="PrintMate.Terminal.Views.ComponentsViews.PLCLogicIndicator"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:PrintMate.Terminal.Views"
             xmlns:componentsViews="clr-namespace:PrintMate.Terminal.Views.ComponentsViews"
             mc:Ignorable="d">

    <UserControl.Resources>
        <!-- Card Style -->
        <Style x:Key="IndicatorCardStyle" TargetType="Border">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#0f0f0f" Offset="0"/>
                        <GradientStop Color="#0a0a0a" Offset="0.5"/>
                        <GradientStop Color="#0c0c0c" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderBrush">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#1f1f1f" Offset="0"/>
                        <GradientStop Color="#151515" Offset="0.5"/>
                        <GradientStop Color="#1a1a1a" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="15 12"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background">
                        <Setter.Value>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#141414" Offset="0"/>
                                <GradientStop Color="#0e0e0e" Offset="0.5"/>
                                <GradientStop Color="#111111" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                    <Setter Property="BorderBrush">
                        <Setter.Value>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                <GradientStop Color="#2a2a2a" Offset="0"/>
                                <GradientStop Color="#1f1f1f" Offset="1"/>
                            </LinearGradientBrush>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <Border Style="{StaticResource IndicatorCardStyle}" Margin="5" HorizontalAlignment="Stretch">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Status Icon Container -->
            <Border Grid.Column="0"
                    Width="36"
                    Height="36"
                    CornerRadius="10"
                    Margin="0 0 12 0"
                    VerticalAlignment="Center">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#1a1a1a" Offset="0"/>
                        <GradientStop Color="#121212" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>
                <Border.BorderBrush>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#252525" Offset="0"/>
                        <GradientStop Color="#1a1a1a" Offset="1"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
                <Border.BorderThickness>1</Border.BorderThickness>

                <!-- Signal Icon -->
                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Ellipse Width="8" Height="8" Fill="#ff6f00"/>
                    <Ellipse Width="6" Height="6" Fill="#404040"/>
                </Grid>
            </Border>

            <!-- Title -->
            <TextBlock Grid.Column="1"
                       x:Name="TextBlock"
                       VerticalAlignment="Center"
                       FontSize="14"
                       FontWeight="SemiBold"
                       TextAlignment="Left"
                       HorizontalAlignment="Left"
                       TextWrapping="Wrap"
                       Foreground="#e0e0e0"
                       Text="{Binding CommandInfo.Title, RelativeSource={RelativeSource AncestorType={x:Type componentsViews:PLCLogicIndicator}}}"/>

            <!-- LED Indicator Container -->
            <Grid Grid.Column="2" Width="32" Height="32" VerticalAlignment="Center">
                <!-- LED Housing -->
                <Border Width="28"
                        Height="28"
                        CornerRadius="14">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#1a1a1a" Offset="0"/>
                            <GradientStop Color="#0f0f0f" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Border.BorderBrush>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#2a2a2a" Offset="0"/>
                            <GradientStop Color="#1a1a1a" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.BorderBrush>
                    <Border.BorderThickness>1</Border.BorderThickness>

                    <!-- LED Visual -->
                    <Grid>
                        <!-- LED Core (default off state) -->
                        <Ellipse x:Name="LedOff"
                                 Width="16"
                                 Height="16"
                                 HorizontalAlignment="Center"
                                 VerticalAlignment="Center">
                            <Ellipse.Fill>
                                <RadialGradientBrush>
                                    <GradientStop Color="#505050" Offset="0"/>
                                    <GradientStop Color="#353535" Offset="0.6"/>
                                    <GradientStop Color="#252525" Offset="1"/>
                                </RadialGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>

                        <!-- LED Highlight (glass reflection) -->
                        <Ellipse Width="16"
                                 Height="16"
                                 HorizontalAlignment="Center"
                                 VerticalAlignment="Center">
                            <Ellipse.Fill>
                                <LinearGradientBrush StartPoint="0.3,0" EndPoint="0.7,1">
                                    <GradientStop Color="#15ffffff" Offset="0"/>
                                    <GradientStop Color="#00ffffff" Offset="0.4"/>
                                </LinearGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>
                    </Grid>
                </Border>

                <!-- Image for state detection (hidden, used by code-behind) -->
                <Image Width="20" x:Name="Image" Opacity="0" HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Grid>
        </Grid>
    </Border>
</UserControl>
