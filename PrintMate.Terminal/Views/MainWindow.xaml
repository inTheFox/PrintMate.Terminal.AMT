<Window x:Class="PrintMate.Terminal.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:wpf="http://schemas.microsoft.com/winfx/2006/xaml/presentation/blazor"
        xmlns:local="clr-namespace:PrintMate.Terminal"
        prism:ViewModelLocator.AutoWireViewModel="True"
        xmlns:b="http://schemas.microsoft.com/winfx/2006/xaml/presentation/blazor"
        xmlns:views="clr-namespace:PrintMate.Terminal.Views"
        xmlns:region="clr-namespace:PrintMate.Terminal.Region"
        mc:Ignorable="d"
        Title="{Binding Title}"
        Icon="/images/logo_mini.png"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen"
        BorderBrush="Transparent"
        WindowStyle="None"
        Height="1080"
        MinWidth="1920"
        MinHeight="1080"
        MaxWidth="1920"
        MaxHeight="1080"
        MouseDown="MainWindow_OnMouseDown"
        Background="Black"
        WindowState="Maximized"
        Width="1920">

    <Grid ShowGridLines="False">
        <!-- Основной контент с поддержкой размытия для модальных окон -->
        <region:AnimatedContentControl x:Name="RootContent" Grid.Column="0" prism:RegionManager.RegionName="RootRegion" Panel.ZIndex="0">
            <region:AnimatedContentControl.Effect>
                <BlurEffect x:Name="RootBlurEffect" Radius="0"/>
            </region:AnimatedContentControl.Effect>
        </region:AnimatedContentControl>

        <Canvas Visibility="Collapsed" Background="Black" Opacity="0" x:Name="CanvasBackground" Panel.ZIndex="100">
        </Canvas>
        <Canvas x:Name="CanvasText" Panel.ZIndex="101" Visibility="Collapsed">
            <Border Width="1920" Height="1080" Visibility="Collapsed" HorizontalAlignment="Center" x:Name="BlockInfo" Opacity="0" Background="Black" Padding="25" CornerRadius="5">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Image Margin="0 0 0 20" Width="100" Source="/images/block.png"/>
                    <TextBlock  HorizontalAlignment="Center" FontSize="35"  FontWeight="Bold" Foreground="White">Сенсор заблокирован</TextBlock>
                    <TextBlock  HorizontalAlignment="Center" FontSize="15"  FontWeight="Medium" Foreground="Gray">Переведите ключ в рабочее положение</TextBlock>
                </StackPanel>
            </Border>
        </Canvas>
        <Canvas x:Name="LoadingScreenCanvas" Visibility="Collapsed" Panel.ZIndex="102">
            <Border Width="1920" Height="1080">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock FontWeight="Black" FontSize="60" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center">Параметры</TextBlock>
                    <TextBlock FontWeight="Regular" FontSize="40" Foreground="Gray" HorizontalAlignment="Center" VerticalAlignment="Center">загружаем раздел</TextBlock>
                    <hc:LoadingCircle Width="50" Height="50" Foreground="OrangeRed" Style="{StaticResource LoadingCircleLight}" Margin="50"/>
                </StackPanel>
            </Border>
        </Canvas>

        <!-- Контейнер для уведомлений - самый верхний слой -->
        <StackPanel x:Name="NotificationContainer"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Top"
                    Margin="0 20 20 0"
                    Panel.ZIndex="9999"
                    Background="Transparent"/>

        <!-- Modal Service Canvas - асинхронные модальные окна -->
        <Canvas x:Name="ModalOverlay"
                Background="Black"
                Opacity="0"
                Visibility="Collapsed"
                Panel.ZIndex="10000"/>
        <Canvas x:Name="ModalContainer"
                Panel.ZIndex="10001"
                Width="1920"
                Height="1080"/>
    </Grid>
</Window>