<hc:Window x:Class="HansDebuggerApp.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:views="clr-namespace:HansDebuggerApp.Views"
        xmlns:opc2Lib="clr-namespace:Opc2Lib;assembly=Opc2Lib"
        prism:ViewModelLocator.AutoWireViewModel="True"
        mc:Ignorable="d"
        Title="{Binding Title}" 
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        ShowTitle="True"
        Height="1000"
        MinHeight="1000"
        Width="1000">
    <Grid>
        <StackPanel Margin="50 0 50 0">
            <TextBox hc:InfoElement.Title="Адрес платы ( 172.18.34.227 / 172.18.34.228 )"
                     Style="{StaticResource TextBoxExtend}"
                     Margin="0,30,0,0"
                     Text="{Binding Address}" />
            <Button Command="{Binding ConnectCommand}" IsEnabled="{Binding ConnectButtonEnabled}" Content="Подключиться" Margin="5" HorizontalAlignment="Stretch" Style="{StaticResource ButtonSuccess}"/>
            <Button Command="{Binding DisconnectCommand}" IsEnabled="{Binding DisconnectButtonEnabled}" Content="Отключиться" Margin="5" HorizontalAlignment="Stretch" Style="{StaticResource ButtonDanger}"/>

            <UniformGrid Columns="3">
                <views:PLCBoolSwitch CommandInfo="{x:Static opc2Lib:OpcCommands.Com_Laser_Emission}"/>
                <views:PLCBoolSwitch Grid.Column="1" CommandInfo="{x:Static opc2Lib:OpcCommands.Com_LaserSystem}"/>
                <views:PLCLogicIndicator CommandInfo="{x:Static opc2Lib:OpcCommands.DM_Laser1_PowerStateLaser}" Margin="1"/>
                <views:PLCLogicIndicator CommandInfo="{x:Static opc2Lib:OpcCommands.DM_Laser2_PowerStateLaser}" Margin="1"/>
                <views:PLCBoolSwitch CommandInfo="{x:Static opc2Lib:OpcCommands.Com_PChamber_CameraLock}" Margin="1"/>
                <views:PLCBoolSwitch CommandInfo="{x:Static opc2Lib:OpcCommands.Com_PChamber_Light}" Margin="1"/>
            </UniformGrid>


            <UniformGrid>
                <TextBox hc:InfoElement.Title="Шаг платформы"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         IsEnabled="True"
                         Text="{Binding PlatformStep}" />
                <TextBox hc:InfoElement.Title="Текущее значение"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         IsEnabled="False"
                         Text="{Binding PlatformPosition}" />
            </UniformGrid>
            <UniformGrid Margin="0 -50 0 0">
                <views:PLCBoolSwitch CommandInfo="{x:Static opc2Lib:OpcCommands.Com_Axes_PlatformStepUp}" Margin="1"/>
                <views:PLCBoolSwitch CommandInfo="{x:Static opc2Lib:OpcCommands.Com_Axes_PlatformStepDown}" Margin="1"/>
            </UniformGrid>


            <TextBox hc:InfoElement.Title="Файл конфигурации"
                     Style="{StaticResource TextBoxExtend}"
                     Margin="0,-50,0,0"
                     IsEnabled="False"
                     Text="{Binding ConfigurationFileName}" />
            <Button Command="{Binding ImportCommand}" Content="Загрузить конфиг" Margin="5" HorizontalAlignment="Stretch" Style="{StaticResource ButtonPrimary}"/>


            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition />
                    <ColumnDefinition />
                </Grid.ColumnDefinitions>
                <hc:NumericUpDown Grid.Column="0" hc:InfoElement.Title="X"
                         
                         Margin="0,30,0,0"
                         Value="{Binding X}" />
                <hc:NumericUpDown Grid.Column="1" hc:InfoElement.Title="Y"
                                  
                                  Margin="0,30,0,0"
                                  Value="{Binding Y}" />
                <hc:NumericUpDown Grid.Column="2" hc:InfoElement.Title="Z"
                                 
                                  Margin="0,30,0,0"
                                  Value="{Binding Z}" />
            </Grid>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <TextBox Grid.Column="0" hc:InfoElement.Title="Мощность (Вт)"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding Power}" />
                <TextBox Grid.Column="1" hc:InfoElement.Title="Диаметр пучка (МКМ)"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding BeamDiameter}" />
                <TextBox Grid.Column="2" hc:InfoElement.Title="Time (ms)"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding Time}" />
            </Grid>


            <UniformGrid>
                <TextBox Grid.Column="1" hc:InfoElement.Title="FocalLengthMm" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding FocalLengthMm}" />
                <TextBox Grid.Column="1" hc:InfoElement.Title="FocalLengthMicron" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding FocalLengthMicron}" />
                <TextBox Grid.Column="1" hc:InfoElement.Title="BaseFocal" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding BaseFocal}" />
                <TextBox Grid.Column="1" hc:InfoElement.Title="ZOffsetMm" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding ZOffsetMm}" />
                <TextBox Grid.Column="1" hc:InfoElement.Title="PowerOffsetMicrons" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding PowerOffsetMicrons}" />
                <TextBox Grid.Column="1" hc:InfoElement.Title="ZFinal" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding ZFinal}" />

                <TextBox Grid.Column="1" hc:InfoElement.Title="PowerWatts" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding PowerWatts}" />
                <TextBox Grid.Column="1" hc:InfoElement.Title="CorrectedPowerWatts" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding CorrectedPowerWatts}" />
                <TextBox Grid.Column="1" hc:InfoElement.Title="PowerPercent" IsEnabled="False"
                         Style="{StaticResource TextBoxExtend}"
                         Margin="0,10,0,0"
                         Text="{Binding PowerPercent}" />
            </UniformGrid>

            <Button Command="{Binding GenerateUdmCommand}" Content="Создать UDM(X,Y)" Margin="5" HorizontalAlignment="Stretch"/>
            <Button Command="{Binding GenerateUdmCommandWithZ0}" Content="Создать UDM(X,Y,Z)" Margin="5" HorizontalAlignment="Stretch"/>
            <Button Command="{Binding StartMarkCommand}" Content="Запустить маркировку" Margin="5" HorizontalAlignment="Stretch"/>
            <Button Command="{Binding StopMarkCommand}" Content="Остановить маркировку" Margin="5" HorizontalAlignment="Stretch"/>


        </StackPanel>
    </Grid>
</hc:Window>
